{"ast":null,"code":"import _asyncToGenerator from \"/Users/ybezeha/WebstormProjects/new-project/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { request as defaultRequest } from \"@octokit/request\";\nimport btoa from \"btoa-lite\";\nfunction scopeToken(_x) {\n  return _scopeToken.apply(this, arguments);\n}\nfunction _scopeToken() {\n  _scopeToken = _asyncToGenerator(function* (options) {\n    const {\n      request: optionsRequest,\n      clientType,\n      clientId,\n      clientSecret,\n      token,\n      ...requestOptions\n    } = options;\n    const request = optionsRequest || /* istanbul ignore next: we always pass a custom request in tests */\n    defaultRequest;\n    const response = yield request(\"POST /applications/{client_id}/token/scoped\", {\n      headers: {\n        authorization: `basic ${btoa(`${clientId}:${clientSecret}`)}`\n      },\n      client_id: clientId,\n      access_token: token,\n      ...requestOptions\n    });\n    const authentication = Object.assign({\n      clientType,\n      clientId,\n      clientSecret,\n      token: response.data.token\n    }, response.data.expires_at ? {\n      expiresAt: response.data.expires_at\n    } : {});\n    return {\n      ...response,\n      authentication\n    };\n  });\n  return _scopeToken.apply(this, arguments);\n}\nexport { scopeToken };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}