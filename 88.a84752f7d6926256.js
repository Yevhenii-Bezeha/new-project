"use strict";(self.webpackChunkgitexplorer=self.webpackChunkgitexplorer||[]).push([[88],{2088:(L,m,o)=>{o.r(m),o.d(m,{default:()=>O,routes:()=>v});var x=o(9671),p=o(6814),t=o(5879),b=o(1993),r=o(6223),l=o(2296),f=o(1175),h=o(2032),g=o(5940),d=o(2596),y=o(4581),C=o(7921),T=o(7398),A=o(4716),Z=o(6306),M=o(6232),a=o(9868),u=o(9157);function P(e,s){1&e&&t._UZ(0,"mat-spinner")}function S(e,s){if(1&e){const i=t.EpF();t.TgZ(0,"button",13),t.NdJ("click",function(){t.CHM(i);const c=t.oxw(2);return t.KtG(c.clear())}),t.TgZ(1,"mat-icon"),t._uU(2,"close"),t.qZA()()}}function G(e,s){1&e&&(t.TgZ(0,"div",14)(1,"h4",15),t._uU(2," The token you provided is invalid. Please follow these instructions to generate a new Token "),t.qZA(),t.TgZ(3,"a",16),t._uU(4," Go to GitHub "),t.qZA()())}function I(e,s){if(1&e){const i=t.EpF();t.TgZ(0,"h3",5),t._uU(1," Paste your personal access token "),t._UZ(2,"mat-icon",6),t.qZA(),t.TgZ(3,"form",7),t.NdJ("ngSubmit",function(){t.CHM(i);const c=t.oxw();return t.KtG(c.onSubmit())}),t.TgZ(4,"mat-form-field",8)(5,"mat-label"),t._uU(6,"Personal access key"),t.qZA(),t._UZ(7,"input",9),t.YNc(8,S,3,0,"button",10),t.qZA(),t.TgZ(9,"button",11),t.ALo(10,"async"),t._uU(11," Submit "),t.qZA()(),t.YNc(12,G,5,0,"div",12)}if(2&e){const i=t.oxw();t.xp6(3),t.Q6J("formGroup",i.form),t.xp6(5),t.Q6J("ngIf",i.form.controls.input.value),t.xp6(1),t.Q6J("disabled",t.lcZ(10,4,i.disabled$)),t.xp6(3),t.Q6J("ngIf",i.isGoToGitHubPersonalTokenCreationVisible())}}const v=[{path:"",component:(()=>{var e;class s{constructor(){this.isLoading=(0,t.tdS)(!1),this.isGoToGitHubPersonalTokenCreationVisible=(0,t.tdS)(!1),this.destroyRef=(0,t.f3M)(t.ktI),this.octokitGeneralService=(0,t.f3M)(a.Z4),this.authService=(0,t.f3M)(a.e8),this.fb=(0,t.f3M)(r.j3),this.router=(0,t.f3M)(y.F0),this.errorService=(0,t.f3M)(a.T_),this.form=this.fb.group({input:this.fb.control("",r.kI.required)}),this.disabled$=this.form.statusChanges.pipe((0,C.O)(this.form.status),(0,T.U)(n=>"VALID"!==n))}onSubmit(){this.isLoading.set(!0),this.octokitGeneralService.auth(this.form.controls.input.value).pipe((0,A.x)(()=>this.isLoading.set(!1)),(0,Z.K)(n=>(this.errorService.setError(n.message),this.isGoToGitHubPersonalTokenCreationVisible.set(!0),this.form.controls.input.reset(),this.authService.setLoggedIn(!1),M.E)),(0,b.sL)(this.destroyRef)).subscribe(n=>{n.status===a.WE.Ok&&(this.isGoToGitHubPersonalTokenCreationVisible.set(!1),this.successAuthActions())})}clear(){this.form.controls.input.patchValue("")}successAuthActions(){var n=this;return(0,x.Z)(function*(){yield n.router.navigate([a.Xv.Home]),n.authService.setLoggedIn(!0)})()}}return(e=s).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["lib-auth"]],standalone:!0,features:[t.jDz],decls:8,vars:2,consts:[[1,"auth-page"],[1,"main-title"],[1,"form-container"],[4,"ngIf","ngIfElse"],["content",""],[1,"secondary-title"],["matTooltipShowDelay","500","matTooltip","We don't store your personal access key locally.\n            You'll need to enter your token every time you revisit the webpage.","matTooltipPosition","above","aria-label","Personal access key description","fontIcon","info",1,"tooltip-icon"],[1,"auth-form",3,"formGroup","ngSubmit"],["cy-data","Auth-Form-Input"],["matInput","","type","password","formControlName","input"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["type","submit","cy-data","Auth-Submit-Btn","mat-raised-button","","color","primary",1,"submit-btn",3,"disabled"],["class","go-to-git-hub-section",4,"ngIf"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[1,"go-to-git-hub-section"],["cy-data","Auth-Error-Text",1,"error-text"],["mat-raised-button","","color","primary","target","_blank","href","https://docs.github.com/en/authentication/\n            keeping-your-account-and-data-secure/managing-your-personal-access-tokens"]],template:function(n,c){if(1&n&&(t.TgZ(0,"div",0)(1,"div")(2,"h1",1),t._uU(3,"Log In"),t.qZA(),t.TgZ(4,"div",2),t.YNc(5,P,1,0,"mat-spinner",3),t.qZA()()(),t.YNc(6,I,13,6,"ng-template",null,4,t.W1O)),2&n){const U=t.MAs(7);t.xp6(5),t.Q6J("ngIf",c.isLoading())("ngIfElse",U)}},dependencies:[g.Cq,g.Ou,p.O5,p.Ov,h.c,h.Nt,u.KE,u.hX,u.R9,f.Ps,f.Hw,l.ot,l.zs,l.lW,l.RK,r.UX,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,d.AV,d.gM],styles:[".auth-page[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;height:70%}.form-container[_ngcontent-%COMP%]{padding:40px;border-radius:10px;border:1px solid var(--primary-text-color);width:500px;display:flex;justify-content:center;flex-direction:column;margin-top:20px;align-items:center}.auth-form[_ngcontent-%COMP%], .submit-btn[_ngcontent-%COMP%]{width:100%}.go-to-git-hub-section[_ngcontent-%COMP%]{text-align:center;margin-top:50px}.error-text[_ngcontent-%COMP%]{color:var(--error-color)}.main-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:var(--primary-text-color)}.secondary-title[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:20px;color:var(--primary-text-color)}.tooltip-icon[_ngcontent-%COMP%]{margin-left:4px;cursor:pointer}mat-form-field[_ngcontent-%COMP%]{width:100%}"],changeDetection:0}),s})(),title:"Auth"}],O=v}}]);